import{u as A,r as c,R as E,j as e,L as _,a as I}from"./index-BQqAOolg.js";import{C as i,a as x,b as m,c as h}from"./card-LuQtFw5V.js";import{h as p,u as P,D as T,M as L,S as M,d as B,e as D,f as R,g,B as v,A as q,C as U}from"./AdBanner-ClAUbm1p.js";import{I as V}from"./input-ClHHwBIS.js";/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=p("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=p("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.417.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),K=()=>{const{t:u}=P(),{getProjects:j}=A(),[o,b]=c.useState(""),[d,f]=c.useState("projects"),[r,N]=c.useState([]),[k,w]=c.useState(!0);E.useEffect(()=>{(async()=>{try{I();const{data:a,error:l}=await j();if(l)throw l;const n={};a.forEach(t=>{n[t.company_name]||(n[t.company_name]={name:t.company_name,url:t.company_url,projects:[],exported:0,active:0}),n[t.company_name].projects.push(t),t.is_exported&&n[t.company_name].exported++,(t.status==="Active"||t.status==="In Progress")&&n[t.company_name].active++}),N(Object.values(n))}catch(a){console.error("Error fetching companies:",a)}finally{w(!1)}})()},[j]);const y=c.useMemo(()=>{let s=r.filter(a=>a.name.toLowerCase().includes(o.toLowerCase()));return s.sort((a,l)=>d==="projects"?l.projects.length-a.projects.length:d==="active"?l.active-a.active:d==="exported"?l.exported-a.exported:d==="name"?a.name.localeCompare(l.name):0),s},[r,o,d]);r.reduce((s,a)=>s+a.projects.length,0);const C=r.reduce((s,a)=>s+a.exported,0),S=r.reduce((s,a)=>s+a.active,0);return k?e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 py-6 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[e.jsx("div",{className:"h-10 w-64 bg-gray-200 dark:bg-gray-700 animate-pulse rounded"}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"h-10 w-48 bg-gray-200 dark:bg-gray-700 animate-pulse rounded"})})]}),e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((s,a)=>e.jsx("div",{className:"h-32 bg-gray-200 dark:bg-gray-700 animate-pulse rounded"},a))})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 py-6 md:py-12",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8 md:mb-12",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:["🏢 ",u("nav.companies")]}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["Explore ",r.length," defense contractors and their projects"]})]}),e.jsx("div",{className:"hidden md:block",children:e.jsx(T,{})}),e.jsx("div",{className:"md:hidden",children:e.jsx(L,{})})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-8",children:[e.jsxs(i,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Total Companies"}),e.jsx(Z,{className:"h-4 w-4 text-blue-500"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold",children:r.length}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Defense contractors"})]})]}),e.jsxs(i,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Active Projects"}),e.jsx(H,{className:"h-4 w-4 text-green-500"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold",children:S}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently in development"})]})]}),e.jsxs(i,{className:"bg-white dark:bg-gray-800 border-0 shadow-lg hover:shadow-xl transition-shadow",children:[e.jsxs(x,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(m,{className:"text-sm font-medium",children:"Exported Projects"}),e.jsx(G,{className:"h-4 w-4 text-purple-500"})]}),e.jsxs(h,{children:[e.jsx("div",{className:"text-3xl font-bold",children:C}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Internationally deployed"})]})]})]}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[e.jsx("div",{className:"md:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(V,{placeholder:u("projects.searchPlaceholder"),value:o,onChange:s=>b(s.target.value),className:"pl-10 h-10 border-gray-300 dark:border-gray-600"})]})}),e.jsx("div",{children:e.jsxs(M,{value:d,onValueChange:f,children:[e.jsx(B,{className:"h-10 border-gray-300 dark:border-gray-600",children:e.jsx(D,{})}),e.jsxs(R,{children:[e.jsx(g,{value:"projects",children:"Sort by Projects"}),e.jsx(g,{value:"active",children:"Sort by Active"}),e.jsx(g,{value:"exported",children:"Sort by Exported"}),e.jsx(g,{value:"name",children:"Sort by Name (A-Z)"})]})]})})]})}),y.length>0?e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:y.map(s=>e.jsx(_,{to:`/company/${encodeURIComponent(s.name)}`,children:e.jsxs(i,{className:"h-full bg-white dark:bg-gray-800 border-0 shadow-lg hover:shadow-2xl hover:-translate-y-1 transition-all duration-300 cursor-pointer group overflow-hidden",children:[e.jsx("div",{className:"h-2 bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 group-hover:via-pink-500"}),e.jsx(x,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsx("div",{className:"flex-1",children:e.jsx(m,{className:"text-lg group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:s.name})}),e.jsx("div",{className:"ml-2 px-2 py-1 bg-blue-100 dark:bg-blue-900 rounded-full",children:e.jsx("span",{className:"text-xs font-semibold text-blue-800 dark:text-blue-200",children:s.projects.length})})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:s.projects.length}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Projects"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 dark:text-green-400",children:s.active}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Active"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:s.exported}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Exported"})]})]}),e.jsx(v,{variant:"outline",className:"w-full mt-2 group-hover:bg-blue-600 group-hover:text-white transition-colors",children:"View All Projects →"})]})})]})},s.name))}):e.jsxs(i,{className:"text-center py-12 bg-white dark:bg-gray-800 border-0 shadow-lg",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:['No companies found matching "',o,'"']}),e.jsx(v,{onClick:()=>b(""),variant:"outline",className:"mt-4",children:"Clear Search"})]}),e.jsx("div",{className:"mt-12",children:e.jsx(q,{"data-ad-client":"ca-pub-5614882338601871","data-ad-slot":"6976383252"})})]}),e.jsx(U,{})]})};export{K as default};
