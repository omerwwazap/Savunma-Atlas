import{i as P,u as _,r as d,j as e,L as o,a as L}from"./index-ssMgTirv.js";import{C as a,a as c,b as i,c as x}from"./card-BDvJjkEe.js";import{u as E,B as m,D as M,M as B,A as S,C as A}from"./AdBanner-KAUed5Th.js";import{S as D}from"./skeleton-DX5b3osn.js";import{O as I}from"./OptimizedImage-FF6ZRxSp.js";const U=()=>{const{companyName:l}=P(),{t:V}=E(),{getProjects:h}=_(),[r,p]=d.useState([]),[f,u]=d.useState(!0),[g,y]=d.useState(null);if(d.useEffect(()=>{(async()=>{try{L();const{data:t,error:j}=await h();if(j)throw j;const k=decodeURIComponent(l),w=t.filter(C=>C.company_name.toLowerCase()===k.toLowerCase());p(w)}catch(t){console.error("Error fetching projects:",t),y(t.message)}finally{u(!1)}})()},[l,h]),f)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 py-6 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[e.jsx("div",{className:"h-10 w-64 bg-gray-200 dark:bg-gray-700 animate-pulse rounded"}),e.jsx("div",{className:"hidden md:block",children:e.jsx("div",{className:"h-10 w-48 bg-gray-200 dark:bg-gray-700 animate-pulse rounded"})})]}),e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((s,t)=>e.jsx(D,{className:"h-40 w-full"},t))})]})});if(g)return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 py-6 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4 flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-700 dark:text-red-200 px-4 py-3 rounded relative max-w-lg w-full",children:[e.jsx("strong",{className:"font-bold",children:"Error!"}),e.jsx("span",{className:"block sm:inline ml-2",children:g})]}),e.jsx(o,{to:"/projects",children:e.jsx(m,{className:"mt-4",children:"← Back to Projects"})})]})});const n=decodeURIComponent(l),b=r.length,N=r.filter(s=>s.status==="Active"||s.status==="In Progress").length,v=r.filter(s=>s.is_exported).length;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 py-6 md:py-12",children:[e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6 md:mb-8",children:[e.jsxs("div",{children:[e.jsx(o,{to:"/projects",children:e.jsx(m,{variant:"ghost",size:"sm",className:"mb-2",children:"← Back"})}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-gray-100",children:n})]}),e.jsx(M,{}),e.jsx(B,{})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-3 mb-8",children:[e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Total Projects"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold",children:b}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Projects by this company"})]})]}),e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Active Projects"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold",children:N}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Currently active or in progress"})]})]}),e.jsxs(a,{children:[e.jsxs(c,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(i,{className:"text-sm font-medium",children:"Exported Projects"}),e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-muted-foreground",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.001 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.001 0M18 7l3 9m-3-9l-6-2m0-2v2m0 16V5m0 16H9m3 0h3"})})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold",children:v}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Exported to other countries"})]})]})]}),r.length>0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-100 mb-4",children:["Projects by ",n]}),r.map(s=>e.jsx(a,{className:"overflow-hidden hover:shadow-lg transition-shadow",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 p-4 md:p-6",children:[e.jsx("div",{className:"md:col-span-1",children:e.jsx(I,{src:s.image_url,alt:s.project_name,className:"w-full h-[250px] md:h-[200px] object-contain rounded-lg"})}),e.jsxs("div",{className:"md:col-span-3 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-gray-100 mb-2",children:s.project_name}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[e.jsx("span",{className:"inline-block bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 text-xs font-semibold px-3 py-1 rounded",children:s.type}),e.jsx("span",{className:"inline-block bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs font-semibold px-3 py-1 rounded",children:s.status}),e.jsx("span",{className:"inline-block bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 text-xs font-semibold px-3 py-1 rounded",children:s.p_scale}),s.is_exported&&e.jsx("span",{className:"inline-block bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 text-xs font-semibold px-3 py-1 rounded",children:"Exported"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold",children:"Start Date:"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:s.pstart_date})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold",children:"Service Date:"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:s.service_date||"N/A"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold",children:"Total in Service:"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:s.total_in_service})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold",children:"Last Updated:"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-200",children:s.last_updated})]})]}),s.Notes&&e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-semibold text-sm",children:"Notes:"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:s.Notes})]}),e.jsx("div",{className:"pt-2",children:e.jsx("a",{href:s.company_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 dark:text-blue-400 hover:underline text-sm font-semibold",children:"View Company Website →"})})]})]})},s.id))]}):e.jsxs(a,{className:"text-center py-12",children:[e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:["No projects found for ",n]}),e.jsx(o,{to:"/projects",className:"mt-4 inline-block",children:e.jsx(m,{children:"Back to Projects"})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(S,{"data-ad-client":"ca-pub-5614882338601871","data-ad-slot":"6976383252"})})]}),e.jsx(A,{})]})};export{U as default};
