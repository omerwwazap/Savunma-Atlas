import{r as l,j as e}from"./index-CBXVQLVI.js";const I=({src:d,alt:p,className:r="",width:a,height:o,loading:u="lazy",sizes:s="100vw",...m})=>{const[c,x]=l.useState(!1),[i,j]=l.useState(!1),b=t=>{if(!t)return{};const n=t.split(".").slice(0,-1).join("."),E=`${n}.webp`,w=`${n}.avif`;return{webpSrc:E,avifSrc:w,originalSrc:t}},{webpSrc:f,avifSrc:v,originalSrc:y}=b(d),S=()=>{x(!0)},g=()=>{j(!0)};return e.jsxs("div",{className:`relative ${r}`,style:{width:a,height:o},children:[!c&&!i&&e.jsx("div",{className:"absolute inset-0 bg-gray-200 animate-pulse rounded"}),i&&e.jsx("div",{className:"absolute inset-0 bg-gray-100 flex items-center justify-center rounded",children:e.jsx("span",{className:"text-gray-500 text-sm",children:"Image not available"})}),e.jsxs("picture",{children:[e.jsx("source",{srcSet:v,type:"image/avif",sizes:s}),e.jsx("source",{srcSet:f,type:"image/webp",sizes:s}),e.jsx("img",{src:y,alt:p,loading:u,onLoad:S,onError:g,className:`${r} ${c?"opacity-100":"opacity-0"} transition-opacity duration-300`,width:a,height:o,sizes:s,...m})]})]})};export{I as O};
